<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã - –ê–≤–∞—Ä–∏–π–Ω–∞—è —Å–ª—É–∂–±–∞ –í–æ–¥–æ–∫–∞–Ω–∞–ª–∞</title>
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã -->
    <div class="page">
        <nav class="navbar">
            <div class="container nav-container">
                <div class="logo">
                    <img src="./images/logot.png" alt=""> <P>–ú–£–ü ¬´–í–æ–¥–æ–∫–∞–Ω–∞–ª¬ª –°–µ—Ä–≥–∏–µ–≤ –ü–æ—Å–∞–¥</P>
                </div>
                <div class="nav-links">
                    <a href="admin-dashboard.html">–î–∞—à–±–æ—Ä–¥</a>
                    <a href="user-management.html">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</a>
                    <a href="system-settings.html">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</a>
                    <a href="#" onclick="logout()">–í—ã–π—Ç–∏</a>
                </div>
                <div class="burger-menu" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <div class="mobile-menu">
                <a href="admin-dashboard.html">–î–∞—à–±–æ—Ä–¥</a>
                <a href="user-management.html">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</a>
                <a href="system-settings.html">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</a>
                <a href="#" onclick="logout()">–í—ã–π—Ç–∏</a>
            </div>
        </nav>
        
        <div class="container" style="padding: 40px 0;">
            <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h1>
            
            <div class="card">
                <h2>–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                <form id="system-settings-form">
                    <div class="form-group">
                        <label for="system-name">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã</label>
                        <input type="text" id="system-name" value="–ú–£–ü ¬´–í–æ–¥–æ–∫–∞–Ω–∞–ª¬ª –°–µ—Ä–≥–∏–µ–≤ –ü–æ—Å–∞–¥" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="system-email">Email –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</label>
                        <input type="email" id="system-email" value="notifications@spvodokanal.ru">
                    </div>
                    
                    <div class="form-group">
                        <label for="system-phone">–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" id="system-phone" value="+7 (496) 540-00-00" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="auto-assign">–ê–≤—Ç–æ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±—Ä–∏–≥–∞–¥</label>
                        <select id="auto-assign">
                            <option value="enabled">–í–∫–ª—é—á–µ–Ω–æ</option>
                            <option value="disabled" selected>–û—Ç–∫–ª—é—á–µ–Ω–æ</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="notification-time">–í—Ä–µ–º—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–º–∏–Ω—É—Ç—ã)</label>
                        <input type="number" id="notification-time" value="30" min="5" max="120">
                    </div>
                    
                    <div class="form-group">
                        <label for="backup-interval">–ò–Ω—Ç–µ—Ä–≤–∞–ª —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–Ω–∏)</label>
                        <input type="number" id="backup-interval" value="7" min="1" max="30">
                    </div>
                    
                    <button type="submit" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </form>
            </div>
            
            <div class="card">
                <h2>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏</h2>
                <div id="reference-books">
                    <div class="reference-section">
                        <h3>–¢–∏–ø—ã –∞–≤–∞—Ä–∏–π</h3>
                        <div id="emergency-types-list" class="reference-list">
                            <!-- –°–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –∞–≤–∞—Ä–∏–π -->
                        </div>
                        <button class="btn btn-small" onclick="addEmergencyType()">–î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø</button>
                    </div>
                    
                    <div class="reference-section">
                        <h3>–ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ –±—Ä–∏–≥–∞–¥</h3>
                        <div id="qualifications-list" class="reference-list">
                            <!-- –°–ø–∏—Å–æ–∫ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–π -->
                        </div>
                        <button class="btn btn-small" onclick="addQualification()">–î–æ–±–∞–≤–∏—Ç—å –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—é</button>
                    </div>
                    
                    <div class="reference-section">
                        <h3>–°—Ç–∞—Ç—É—Å—ã –∑–∞—è–≤–æ–∫</h3>
                        <div id="statuses-list" class="reference-list">
                            <!-- –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç—É—Å–æ–≤ -->
                        </div>
                        <button class="btn btn-small" onclick="addStatus()">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2>–°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</h2>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <button class="btn" onclick="createBackup()">–°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é</button>
                    <button class="btn" onclick="clearCache()">–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à</button>
                    <button class="btn btn-danger" onclick="resetSystem()">–°–±—Ä–æ—Å–∏—Ç—å —Å–∏—Å—Ç–µ–º—É</button>
                </div>
            </div>
            
            <div class="card">
                <h2>–õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã</h2>
                <div id="system-logs" style="max-height: 300px; overflow-y: auto; background: #f5f5f5; padding: 15px; border-radius: 5px; font-family: monospace; font-size: 12px;">
                    <!-- –õ–æ–≥–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
                </div>
                <button class="btn" style="margin-top: 10px;" onclick="loadSystemLogs()">–û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ -->
    <div id="reference-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeReferenceModal()">&times;</span>
            <h2 id="reference-modal-title">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞</h2>
            
            <form id="reference-form">
                <input type="hidden" id="reference-type">
                <input type="hidden" id="reference-id">
                
                <div class="form-group">
                    <label for="reference-name">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" id="reference-name" required>
                </div>
                
                <div class="form-group">
                    <label for="reference-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea id="reference-description"></textarea>
                </div>
                
                <div class="form-group" id="priority-field" style="display: none;">
                    <label for="reference-priority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                    <select id="reference-priority">
                        <option value="low">–ù–∏–∑–∫–∏–π</option>
                        <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                        <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                    </select>
                </div>
                
                <div class="form-group" id="icon-field" style="display: none;">
                    <label for="reference-icon">–ò–∫–æ–Ω–∫–∞</label>
                    <input type="text" id="reference-icon" placeholder="üí•">
                </div>
                
                <div class="form-navigation">
                    <button type="button" class="btn" onclick="closeReferenceModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-secondary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <script src="./js/utils.js"></script>
    <script src="./js/admin.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadSystemSettings();
        });
    </script>
</body>
</html>